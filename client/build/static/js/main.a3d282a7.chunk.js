(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/g.9fde6192.wav"},function(e,t,a){e.exports=a.p+"static/media/a.44fe4bae.wav"},function(e,t,a){e.exports=a.p+"static/media/c.b831e8da.wav"},function(e,t,a){e.exports=a.p+"static/media/f.fd08916e.wav"},,,function(e,t,a){e.exports=a.p+"static/media/d.32da8625.wav"},function(e,t,a){e.exports=a.p+"static/media/e.75a1c497.wav"},function(e,t,a){e.exports=a.p+"static/media/b.406da41b.wav"},function(e,t,a){e.exports=a.p+"static/media/c.8ce44706.wav"},function(e,t,a){e.exports=a.p+"static/media/e.71bf79bf.wav"},,function(e,t,a){e.exports=a.p+"static/media/f.72b1591c.wav"},function(e,t,a){e.exports=a.p+"static/media/d.c4d20890.wav"},function(e,t,a){e.exports=a.p+"static/media/g.0cc322a3.wav"},function(e,t,a){e.exports=a.p+"static/media/a.877d1623.wav"},function(e,t,a){e.exports=a.p+"static/media/b.97cdae7c.wav"},,,function(e,t,a){e.exports=a.p+"static/media/c.b6e00e48.wav"},function(e,t,a){e.exports=a.p+"static/media/e.7f24cf79.wav"},function(e,t,a){e.exports=a.p+"static/media/b.b598f80f.wav"},,,,function(e,t,a){e.exports=a.p+"static/media/d.596c4017.wav"},function(e,t,a){e.exports=a.p+"static/media/f.0abfe689.wav"},function(e,t,a){e.exports=a.p+"static/media/g.1613f40b.wav"},function(e,t,a){e.exports=a.p+"static/media/a.50da716c.wav"},,,,,,,,,,,,function(e,t,a){e.exports=a(102)},,,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"login",function(){return Se}),a.d(n,"loginById",function(){return Ne}),a.d(n,"logout",function(){return xe}),a.d(n,"fetchGames",function(){return Ce});var r=a(0),s=a.n(r),o=a(54),i=a.n(o),c=a(14),l=a(28),u=a(56),m=a(3),d=a(4),p=a(6),h=a(5),f=a(7),g=a(108),v=a(107),b=a(8),y=a(16),w=a(2),E=a.n(w),j=a(12),O=a(19),k=a.n(O),S=a(23),N=a.n(S),x=a(24),C=a.n(x),I=a(20),M=a.n(I),T=a(17),A=a.n(T),P=a(18),B=a.n(P),D=a(25),G=a.n(D),L=a(26),z=a.n(L),F=a(30),R=a.n(F),H=a(27),q=a.n(H),Q=a(29),U=a.n(Q),Y=a(31),_=a.n(Y),J=a(32),W=a.n(J),K=a(33),V=a.n(K),X=a(36),Z=a.n(X),$=a(42),ee=a.n($),te=a(37),ae=a.n(te),ne=a(43),re=a.n(ne),se=a(44),oe=a.n(se),ie=a(45),ce=a.n(ie),le=a(38),ue=a.n(le),me=[{name:"C",sound:k.a},{name:"D",sound:N.a},{name:"E",sound:C.a},{name:"F",sound:M.a},{name:"G",sound:A.a},{name:"A",sound:B.a},{name:"B",sound:G.a},{name:"C",sound:z.a},{name:"D",sound:R.a},{name:"E",sound:q.a},{name:"F",sound:U.a},{name:"G",sound:_.a},{name:"A",sound:W.a},{name:"B",sound:V.a},{name:"C",sound:Z.a},{name:"D",sound:ee.a},{name:"E",sound:ae.a},{name:"F",sound:re.a},{name:"G",sound:oe.a},{name:"A",sound:ce.a},{name:"B",sound:ue.a}],de=[{name:"C",sound:k.a},{name:"D",sound:N.a},{name:"E",sound:C.a},{name:"F",sound:M.a},{name:"G",sound:A.a},{name:"A",sound:B.a},{name:"B",sound:G.a},{name:"C",sound:z.a},{name:"D",sound:R.a},{name:"E",sound:q.a},{name:"F",sound:U.a},{name:"G",sound:_.a},{name:"A",sound:W.a},{name:"B",sound:V.a}],pe={c3:[{name:"C",sound:k.a},{name:"D",sound:N.a},{name:"E",sound:C.a},{name:"F",sound:M.a},{name:"G",sound:A.a},{name:"A",sound:B.a},{name:"B",sound:G.a}],c4:[{name:"C",sound:z.a},{name:"D",sound:R.a},{name:"E",sound:q.a},{name:"F",sound:U.a},{name:"G",sound:_.a},{name:"A",sound:W.a},{name:"B",sound:V.a}],c5:[{name:"C",sound:Z.a},{name:"D",sound:ee.a},{name:"E",sound:ae.a},{name:"F",sound:re.a},{name:"G",sound:oe.a},{name:"A",sound:ce.a},{name:"B",sound:ue.a}]},he=[[k.a,N.a],[N.a,C.a],[M.a,A.a],[A.a,B.a],[B.a,G.a]],fe=[[k.a,C.a],[M.a,B.a],[A.a,G.a],[z.a,q.a],[U.a,W.a],[_.a,V.a]],ge=[[k.a,A.a],[N.a,B.a],[C.a,G.a],[M.a,z.a],[A.a,R.a],[B.a,q.a]],ve=[[k.a,G.a],[M.a,q.a],[z.a,V.a],[U.a,ae.a],[Z.a,ue.a]],be=[[k.a,z.a],[N.a,R.a],[C.a,q.a],[M.a,U.a],[A.a,_.a],[B.a,W.a]],ye={easy:[{answer:"octave",sounds:be},{answer:"third",sounds:fe},{answer:"fifth",sounds:ge}],medium:[{answer:"octave",sounds:be},{answer:"third",sounds:fe},{answer:"fifth",sounds:ge},{answer:"second",sounds:he}],hard:[{answer:"octave",sounds:be},{answer:"third",sounds:fe},{answer:"fifth",sounds:ge},{answer:"second",sounds:he},{answer:"seventh",sounds:ve}]},we=(a(68),a(10)),Ee=a.n(we),je=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={newSound:!0,difficulty:1,rerender:!1,progress:"",tries:"",correct:"",C:"blue",D:"blue",E:"blue",F:"blue",G:"blue",A:"blue",B:"blue"},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=2==this.state.difficulty?de:3==this.state.difficulty?me:pe.c3,a=2==this.state.difficulty?"Medium":3==this.state.difficulty?"Hard":"Easy",n=localStorage.getItem("guessTheNote");(function(){var t=Object(j.a)(E.a.mark(function t(){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.a.post("/api/progress",{level:a,id:localStorage.getItem("token"),game:"guessTheNote"});case 2:(n=t.sent).data.tries!==e.state.tries&&e.setState({progress:n.data.progress,tries:n.data.tries,correct:n.data.correct});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}})()(),null!=n&&!0!==this.state.newSound||(localStorage.setItem("guessTheNote",Math.floor(Math.random()*t.length)),this.setState({newSound:!1}));var r=function(t,n){n||(Ee.a.post("/api/updateProgress",{game:"guessTheNote",correct:!1,id:localStorage.getItem("token"),level:a}),e.setState(Object(y.a)({},t,"red"))),n&&(Ee.a.post("/api/updateProgress",{game:"guessTheNote",correct:!0,id:localStorage.getItem("token"),level:a}),e.setState(Object(y.a)({},t,"green")))},o=function(){e.setState({C:"blue",D:"blue",E:"blue",F:"blue",G:"blue",A:"blue",B:"blue"})},i=function(a,s){new Audio(a).play(),s===t[n].name&&(console.log("right"),localStorage.setItem("guessTheNote",Math.floor(Math.random()*t.length)),r(s,!0),setTimeout(function(){o(),c(t[localStorage.getItem("guessTheNote")].sound)},1e3)),s!==t[n].name&&(console.log("wrong"),r(s,!1),setTimeout(function(){!function t(){e.setState({rerender:!t})}()},500))},c=function(e){new Audio(e).play()},l=pe.c3.map(function(t){return s.a.createElement("button",{onClick:function(){return i(t.sound,t.name)},className:"btn  sound waves-effect waves-light "+e.state[t.name]},t.name)}),u=function(t){o(),e.setState({difficulty:t.target.id,newSound:!0})};return s.a.createElement("div",{className:"guessTheNote"},s.a.createElement("div",{className:"question"},s.a.createElement("button",{onClick:function(){return c(t[n].sound)},className:"btn green sound waves-effect waves-light"},"Play"),s.a.createElement("p",{style:{fontSize:"1.5em"}},"Click the button to hear again"),s.a.createElement("button",{onClick:function(){return c(t[0].sound)},className:"btn teal sound waves-effect waves-light"},"C"),s.a.createElement("p",{style:{color:"teal"}},"reference note"),s.a.createElement("p",{style:{fontSize:"1.5em"}},"Progress: (",this.state.correct,"/",this.state.tries,")",Math.floor(this.state.progress),"%")),s.a.createElement("div",{className:"answers"},l),s.a.createElement("p",{style:{fontSize:"1.5em"}},"Click the note that fits to the sound you just heard."),s.a.createElement("p",{style:{color:"teal",fontSize:"1.5em"}},"Level: ",a),s.a.createElement("div",{className:"difficulties"},s.a.createElement("button",{className:"btn waves-effect waves-light",id:"1",onClick:u},"Easy"),s.a.createElement("button",{className:"btn waves-effect waves-light",id:"2",onClick:u},"Medium"),s.a.createElement("button",{className:"btn waves-effect waves-light",id:"3",onClick:u},"Hard")))}}]),t}(r.Component),Oe=a(105),ke=(a(89),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={redirect:"",rerender:!1},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=function(){var t=Object(j.a)(E.a.mark(function t(){var a;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.props.game){t.next=5;break}return a=e.props.game.resetTitle,t.next=4,Ee.a.post("/api/reset",{id:localStorage.getItem("token"),name:a});case 4:e.props.game.rerender();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-image-title"},s.a.createElement("h1",{className:"card-title marginLeft"},void 0!==this.props.game?this.props.game.title:"")),s.a.createElement("div",{className:"card-content marginLeft"},s.a.createElement("p",null,void 0!==this.props.game?this.props.game.description:"")),s.a.createElement("div",{className:"card-action"},s.a.createElement("button",{className:"play marginLeft btn left green",onClick:function(){e.setState(function(t){return{redirect:s.a.createElement(Oe.a,{to:e.props.game.route})}})}},"Play"),s.a.createElement("p",{className:""},"Easy:",void 0===this.props.game||isNaN(this.props.game.progress.easy)?"0":Math.floor(this.props.game.progress.easy),"%"),s.a.createElement("p",{className:""},"Medium:",void 0===this.props.game||isNaN(this.props.game.progress.medium)?"0":Math.floor(this.props.game.progress.medium),"%"),s.a.createElement("p",{className:""},"Hard:",void 0===this.props.game||isNaN(this.props.game.progress.hard)?"0":Math.floor(this.props.game.progress.hard),"%"),s.a.createElement("button",{className:"reset btn right red",onClick:t},"Reset")),this.state.redirect)}}]),t}(r.Component)),Se=function(){return function(){var e=Object(j.a)(E.a.mark(function e(t,a){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.a.post("/api/login",{user:a});case 2:n=e.sent,t({type:"login",payload:n.data.user});case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},Ne=function(){return function(){var e=Object(j.a)(E.a.mark(function e(t,a){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.a.post("/api/login/id",{id:a});case 2:n=e.sent,t({type:"login",payload:n.data.user});case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},xe=function(){return function(){var e=Object(j.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"logout",payload:{logged:!1,user:{}}});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},Ce=function(e){return function(){var t=Object(j.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.a.post("/api/games",{id:e.id});case 2:n=t.sent,a({type:"fetch_games",payload:n.data.games});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},Ie=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={rerender:!1},a.handleRender=a.handleRender.bind(Object(b.a)(Object(b.a)(a))),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");this.props.fetchGames({id:e})}},{key:"handleRender",value:function(){var e=localStorage.getItem("token");this.props.fetchGames({id:e}),this.setState({rerender:!this.state.rerender})}},{key:"render",value:function(){var e=this,t={};return Object.keys(this.props.games).length>0&&(t={guessTheNote:{rerender:e.handleRender,resetTitle:"guessTheNote",route:"/guessthenote",title:"Guess The Note",description:"You'll hear sound of a random note and guess which note it was.",progress:{easy:100*e.props.games.guessTheNote.easy.correct/e.props.games.guessTheNote.easy.tries,medium:100*e.props.games.guessTheNote.medium.correct/e.props.games.guessTheNote.medium.tries,hard:100*e.props.games.guessTheNote.hard.correct/e.props.games.guessTheNote.hard.tries}},intervals:{rerender:e.handleRender,resetTitle:"intervals",route:"/intervals",title:"Intervals",description:"You'll hear a sequence of 2 notes and decide whether the interval between those 2 notes is major 3rd, perfect 5th or an octave.",progress:{easy:100*e.props.games.intervals.easy.correct/e.props.games.intervals.easy.tries,medium:100*e.props.games.intervals.medium.correct/e.props.games.intervals.medium.tries,hard:100*e.props.games.intervals.hard.correct/e.props.games.intervals.hard.tries}},melody:{rerender:e.handleRender,resetTitle:"melody",route:"/melody",title:"Melody chain",description:"You'll hear a sequence of 2-3-4 notes from a given scale and try to repeat the notes.",progress:{easy:100*e.props.games.melody.easy.correct/e.props.games.melody.easy.tries,medium:100*e.props.games.melody.medium.correct/e.props.games.melody.medium.tries,hard:100*e.props.games.melody.hard.correct/e.props.games.melody.hard.tries}},chords:{resetTitle:"chords",rerender:e.handleRender,route:"/chords",title:"Chords",description:"You'll hear a chord and try to guess how many notes the chord contains.",progress:{easy:100*e.props.games.chords.easy.correct/e.props.games.chords.easy.tries,medium:100*e.props.games.chords.medium.correct/e.props.games.chords.medium.tries,hard:100*e.props.games.chords.hard.correct/e.props.games.chords.hard.tries}}}),s.a.createElement("div",{className:"dashboard"},s.a.createElement(ke,{game:t.guessTheNote}),s.a.createElement(ke,{game:t.intervals}),s.a.createElement(ke,{game:t.melody}),s.a.createElement(ke,{game:t.chords}))}}]),t}(r.Component);var Me=Object(c.b)(function(e){return{games:e.games}},n)(Ie),Te=a(106),Ae=(a(92),a(21)),Pe=a.n(Ae),Be=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){console.log(this.props.auth.logged);var e=this.props.auth.logged?"":s.a.createElement(Pe.a,{className:"typist"},s.a.createElement(Pe.a.Delay,{ms:2500}),"Hey there!",s.a.createElement(Pe.a.Delay,{ms:1e3}),s.a.createElement("br",null),"This site is going to help you improve your musical hearing.",s.a.createElement(Pe.a.Delay,{ms:1e3}),s.a.createElement("br",null),"Sign up for free and become the next Mozart",s.a.createElement(Pe.a.Backspace,{count:6,delay:1e3}),"Bach",s.a.createElement(Pe.a.Backspace,{count:4,delay:600}),"Beethoven",s.a.createElement(Pe.a.Backspace,{count:26,delay:1500})," lets just begin...",s.a.createElement(Pe.a.Delay,{ms:500}),s.a.createElement(Te.a,{to:"/signup"},"Click me :)"));return s.a.createElement("div",{className:"landing"},s.a.createElement("div",{style:{textAlign:"center",fontSize:"5em",marginTop:"50px"}},"Welcom to Musicly"),e)}}]),t}(r.Component);var De=Object(c.b)(function(e){return{auth:e.auth}})(Be),Ge=(a(94),function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.logged?s.a.createElement("ul",{class:"right"},s.a.createElement("li",null,s.a.createElement(Te.a,{to:"/games"},"Games")),s.a.createElement("li",null,s.a.createElement(Te.a,{onClick:function(){localStorage.removeItem("token"),e.props.logout()},to:"/",className:"logout"},"Logout"))):s.a.createElement("ul",{id:"nav",class:"right"},s.a.createElement("li",null,s.a.createElement(Te.a,{to:"/signup"},"Sign up")),s.a.createElement("li",null,s.a.createElement(Te.a,{to:"/login",className:"login"},"Login")));return s.a.createElement("nav",null,s.a.createElement("div",{class:"nav-wrapper blue"},s.a.createElement(Te.a,{to:"/",className:"brand-logo"},"Musicly"),t))}}]),t}(r.Component));var Le=Object(c.b)(function(e){return{auth:e.auth}},n)(Ge),ze=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={error:"",username:"",password:""},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=function(){var t=Object(j.a)(E.a.mark(function t(){var a;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.a.post("/api/login",{username:e.state.username.toLowerCase().trim(),password:e.state.password});case 2:(a=t.sent).data.exist||(e.setState({error:s.a.createElement("h3",{style:{color:"red"}},"wrong username or password, please try again.")}),localStorage.removeItem("token")),a.data.exist&&(n=a.data.user._id,"undefined"!==typeof Storage?localStorage.setItem("token",n):console.log("Sorry! No Web Storage support.."),e.props.login(a.data.user),e.setState({error:s.a.createElement(Oe.a,{to:"/games"})}));case 5:case"end":return t.stop()}var n},t,this)}));return function(){return t.apply(this,arguments)}}(),a=function(t){e.setState(Object(y.a)({},t.target.name,t.target.value))};return s.a.createElement("div",{className:"login"},s.a.createElement("form",null,s.a.createElement("label",null,"Username: "),s.a.createElement("input",{type:"text",onChange:a,name:"username",value:this.state.username}),s.a.createElement("label",null,"Password: "),s.a.createElement("input",{type:"text",onChange:a,name:"password",value:this.state.password})),s.a.createElement("button",{onClick:t,className:"btn blue"},"Log in"),this.state.error)}}]),t}(r.Component),Fe=Object(c.b)(null,n)(ze),Re=a(103),He=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={exist:"",username:"",password:"",email:""},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=function(){var t=Object(j.a)(E.a.mark(function t(){var a;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.a.post("/api/signup/checkexist",{email:e.state.email.toLowerCase().trim(),username:e.state.username.toLowerCase().trim()});case 2:if((a=t.sent).data.email&&e.setState({exist:s.a.createElement("h3",{style:{color:"red"}},"Email already exists in our database, try to log in.")}),a.data.username&&e.setState({exist:s.a.createElement("h3",{style:{color:"red"}},"Username already exists, try another one.")}),a.data.email||a.data.username){t.next=10;break}return t.next=8,Ee.a.post("/api/signup/new",{email:e.state.email.toLowerCase().trim(),password:e.state.password,username:e.state.username.toLowerCase().trim()});case 8:t.sent,e.setState({exist:s.a.createElement("h3",{style:{color:"green"}},"User ",e.state.username," created successfully, go and log in."),username:"",password:"",email:""});case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),a=function(t){e.setState(Object(y.a)({},t.target.name,t.target.value))},n=this.state.flag?s.a.createElement(Re.a,{to:"/login"}):"";return s.a.createElement("div",{className:"signup"},n,s.a.createElement("h1",{style:{textAlign:"center"}},"Sign up for free!"),s.a.createElement("form",null,s.a.createElement("label",null,"Username: "),s.a.createElement("input",{type:"text",onChange:a,name:"username",value:this.state.username}),s.a.createElement("label",null,"Password: "),s.a.createElement("input",{type:"text",onChange:a,name:"password",value:this.state.password}),s.a.createElement("label",null,"Email: "),s.a.createElement("input",{type:"text",onChange:a,name:"email",value:this.state.email})),s.a.createElement("button",{onClick:t,className:"btn blue"},"Submit"),this.state.exist)}}]),t}(r.Component),qe=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"chords"},"This is the Chords game!")}}]),t}(r.Component),Qe=(a(96),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={rerender:!1,progress:0,correct:0,tries:0,interval:{},newSound:!0,difficulty:"1",second:"blue",third:"blue",fifth:"blue",seventh:"blue",octave:"blue"},a.difficulty=a.difficulty.bind(Object(b.a)(Object(b.a)(a))),a.change=a.change.bind(Object(b.a)(Object(b.a)(a))),a.newInterval=a.newInterval.bind(Object(b.a)(Object(b.a)(a))),a.playQuestion=a.playQuestion.bind(Object(b.a)(Object(b.a)(a))),a.getProgress=a.getProgress.bind(Object(b.a)(Object(b.a)(a))),a.checkAnswer=a.checkAnswer.bind(Object(b.a)(Object(b.a)(a))),a.clearColors=a.clearColors.bind(Object(b.a)(Object(b.a)(a))),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"change",value:function(e,t){var a=this,n=2==this.state.difficulty?"Medium":3==this.state.difficulty?"Hard":"Easy";t||(Ee.a.post("/api/updateProgress",{game:"intervals",correct:!1,id:localStorage.getItem("token"),level:n}),setTimeout(function(){a.setState({rerender:!a.state.rernder})},500),this.setState(Object(y.a)({},e,"red"))),t&&(Ee.a.post("/api/updateProgress",{game:"intervals",correct:!0,id:localStorage.getItem("token"),level:n}),this.newInterval(n),this.setState(Object(y.a)({},e,"green")))}},{key:"clearColors",value:function(){this.setState({second:"blue",third:"blue",fifth:"blue",seventh:"blue",octave:"blue"})}},{key:"checkAnswer",value:function(e){var t=this;e===this.state.interval.answer&&(this.change(e,!0),setTimeout(function(){t.clearColors(),t.playQuestion()},1e3)),e!==this.state.interval.answer&&this.change(e,!1)}},{key:"newInterval",value:function(e){var t=e.toLowerCase(),a=Math.floor(Math.random()*ye[t].length),n=ye[t][a].answer,r=Math.floor(Math.random()*ye[t][a].sounds.length);localStorage.setItem("intervalAnswer",n),localStorage.setItem("firstOfPair",ye[t][a].sounds[r][0]),localStorage.setItem("secondOfPair",ye[t][a].sounds[r][1]);var s=[localStorage.getItem("firstOfPair"),localStorage.getItem("secondOfPair")],o={answer:localStorage.getItem("intervalAnswer"),pair:s};this.setState({interval:o})}},{key:"difficulty",value:function(e){this.clearColors(),this.setState({difficulty:e.target.id,newSound:!0})}},{key:"playQuestion",value:function(){var e=new Audio(this.state.interval.pair[0]),t=new Audio(this.state.interval.pair[1]);e.play(),setTimeout(function(){t.play()},1e3)}},{key:"getProgress",value:function(){var e=Object(j.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.a.post("/api/progress",{level:t,id:localStorage.getItem("token"),game:"intervals"});case 2:(a=e.sent).data.tries!==this.state.tries&&this.setState({progress:a.data.progress,tries:a.data.tries,correct:a.data.correct});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=2==this.state.difficulty?"Medium":3==this.state.difficulty?"Hard":"Easy";this.getProgress(t),null!=localStorage.getItem("intervalAnswer")&&!0!==this.state.newSound||(this.newInterval(t),this.setState({newSound:!1}));var a=(3==this.state.difficulty?[{answer:"second",title:"Major 2nd"},{answer:"third",title:"Major 3nd"},{answer:"fifth",title:"Perfect 5th"},{answer:"seventh",title:"Major 7th"},{answer:"octave",title:"Octave"}]:2==this.state.difficulty?[{answer:"second",title:"Major 2nd"},{answer:"third",title:"Major 3nd"},{answer:"fifth",title:"Perfect 5th"},{answer:"octave",title:"Octave"}]:[{answer:"third",title:"Major 3nd"},{answer:"fifth",title:"Perfect 5th"},{answer:"octave",title:"Octave"}]).map(function(t){return s.a.createElement("button",{onClick:function(){return e.checkAnswer(t.answer)},className:"btn interval waves-effect waves-light "+e.state[t.answer]},t.title)});return s.a.createElement("div",{className:"intervals"},s.a.createElement("div",{className:"question"},s.a.createElement("button",{onClick:this.playQuestion,className:"btn green sound waves-effect waves-light"},"Play"),s.a.createElement("p",{style:{fontSize:"1.5em"}},"Click the button to hear again"),s.a.createElement("p",{style:{fontSize:"1.5em"}},"Progress: (",this.state.correct,"/",this.state.tries,")",Math.floor(this.state.progress),"%")),s.a.createElement("div",{className:"answers"},a),s.a.createElement("p",{style:{fontSize:"1.5em"}},"Click the correct interval."),s.a.createElement("p",{style:{color:"teal",fontSize:"1.5em"}},"Level: ",t),s.a.createElement("div",{className:"difficulties"},s.a.createElement("button",{className:"btn waves-effect waves-light",id:"1",onClick:this.difficulty},"Easy"),s.a.createElement("button",{className:"btn waves-effect waves-light",id:"2",onClick:this.difficulty},"Medium"),s.a.createElement("button",{className:"btn waves-effect waves-light",id:"3",onClick:this.difficulty},"Hard")))}}]),t}(r.Component)),Ue=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"melody"},"This is the Melody game!")}}]),t}(r.Component),Ye=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");null!=e&&this.props.loginById({id:e})}},{key:"render",value:function(){return s.a.createElement(g.a,null,s.a.createElement("div",{className:"container"},s.a.createElement(Le,null),s.a.createElement(v.a,{exact:!0,path:"/",component:De}),s.a.createElement(v.a,{path:"/login",component:Fe}),s.a.createElement(v.a,{path:"/signup",component:He}),s.a.createElement(v.a,{path:"/games",component:Me}),s.a.createElement(v.a,{path:"/chords",component:qe}),s.a.createElement(v.a,{path:"/guessthenote",component:je}),s.a.createElement(v.a,{path:"/intervals",component:Qe}),s.a.createElement(v.a,{path:"/melody",component:Ue})))}}]),t}(r.Component),_e=Object(c.b)(null,n)(Ye),Je=(a(98),a(100),Object(l.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login":return{logged:!0,user:t.user};case"logout":return t.payload;default:return e}},games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_games":return t.payload;default:return e}}})),We=Object(l.d)(Je,{},Object(l.a)(u.a));i.a.render(s.a.createElement(c.a,{store:We},s.a.createElement(_e,null)),document.querySelector("#root"))}],[[57,2,1]]]);
//# sourceMappingURL=main.a3d282a7.chunk.js.map
{"ast":null,"code":"import _regeneratorRuntime from \"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/src/components/games/GuessTheNote.js\";\nimport React, { Component } from \"react\";\nimport { octaves, all } from \"../assets/notes/notes\";\nimport \"./GuessTheNote.css\";\nimport axios from \"axios\";\n\nvar GuessTheNote =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GuessTheNote, _Component);\n\n  function GuessTheNote(props) {\n    var _this;\n\n    _classCallCheck(this, GuessTheNote);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GuessTheNote).call(this, props));\n    _this.state = {\n      question: all[Math.floor(Math.random() * all.length)]\n    };\n    return _this;\n  }\n\n  _createClass(GuessTheNote, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var right =\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          var res;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return axios.post(\"/api/progress\", {\n                    id: localStorage.getItem(\"token\"),\n                    correct: true,\n                    game: \"guessTheNote\"\n                  });\n\n                case 2:\n                  res = _context.sent;\n                  return _context.abrupt(\"return\", res.data);\n\n                case 4:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        return function right() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      var wrong =\n      /*#__PURE__*/\n      function () {\n        var _ref2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2() {\n          var res;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return axios.post(\"/api/updateProgress\", {\n                    id: localStorage.getItem(\"token\"),\n                    correct: false,\n                    game: \"guessTheNote\"\n                  });\n\n                case 2:\n                  res = _context2.sent;\n                  return _context2.abrupt(\"return\", res.data);\n\n                case 4:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        return function wrong() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n\n      var clear = false;\n      var progress = \"\";\n\n      var getProgress =\n      /*#__PURE__*/\n      function () {\n        var _ref3 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee3() {\n          var res;\n          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  _context3.next = 2;\n                  return axios.post(\"/api/progress\", {\n                    id: localStorage.getItem(\"token\"),\n                    game: \"guessTheNote\"\n                  });\n\n                case 2:\n                  res = _context3.sent;\n                  progress = res.data;\n\n                case 4:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        return function getProgress() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n\n      getProgress();\n\n      var playAnswer = function playAnswer(sound, name) {\n        var audio = new Audio(sound);\n        audio.play();\n\n        if (name === _this2.state.question.name) {\n          // if the user's right\n          clear = true;\n          progress = right();\n        }\n\n        if (name !== _this2.state.question.name) {\n          // if the user's wrong\n          progress = wrong();\n        }\n      };\n\n      var playQuestion = function playQuestion(note) {\n        var audio = new Audio(note);\n        audio.play();\n      };\n\n      var buttons = octaves.c3.map(function (note) {\n        return React.createElement(\"button\", {\n          onClick: function onClick() {\n            return playAnswer(note.sound, note.name);\n          },\n          className: \"btn blue sound waves-effect waves-light\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, note.name);\n      });\n      return React.createElement(\"div\", {\n        className: \"guessTheNote\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"question\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return playQuestion(_this2.state.question.sound);\n        },\n        className: \"btn teal sound waves-effect waves-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"?\"), React.createElement(\"p\", {\n        style: {\n          fontSize: \"1.5em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Click the \\\"?\\\" to hear again\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \" progress: \", progress)), React.createElement(\"div\", {\n        className: \"answers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, buttons), React.createElement(\"p\", {\n        style: {\n          fontSize: \"1.5em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Click the note that fits to the sound you just heard.\"));\n    }\n  }]);\n\n  return GuessTheNote;\n}(Component);\n\nexport default GuessTheNote;","map":{"version":3,"sources":["/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/src/components/games/GuessTheNote.js"],"names":["React","Component","octaves","all","axios","GuessTheNote","props","state","question","Math","floor","random","length","right","post","id","localStorage","getItem","correct","game","res","data","wrong","clear","progress","getProgress","playAnswer","sound","name","audio","Audio","play","playQuestion","note","buttons","c3","map","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { octaves, all } from \"../assets/notes/notes\";\nimport \"./GuessTheNote.css\";\nimport axios from \"axios\";\n\nclass GuessTheNote extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      question: all[Math.floor(Math.random() * all.length)]\n    };\n  }\n  render() {\n    const right = async () => {\n      const res = await axios.post(\"/api/progress\", {\n        id: localStorage.getItem(\"token\"),\n        correct: true,\n        game: \"guessTheNote\"\n      });\n      return res.data;\n    };\n\n    const wrong = async () => {\n      const res = await axios.post(\"/api/updateProgress\", {\n        id: localStorage.getItem(\"token\"),\n        correct: false,\n        game: \"guessTheNote\"\n      });\n      return res.data;\n    };\n\n    let clear = false;\n    let progress = \"\";\n    const getProgress = async () => {\n      const res = await axios.post(\"/api/progress\", {\n        id: localStorage.getItem(\"token\"),\n        game: \"guessTheNote\"\n      });\n\n      progress = res.data;\n    }\n\n    getProgress();\n\n    const playAnswer = (sound, name) => {\n      const audio = new Audio(sound);\n      audio.play();\n      if (name === this.state.question.name) {\n        // if the user's right\n        clear = true;\n        progress = right();\n      }\n      if (name !== this.state.question.name) {\n        // if the user's wrong\n        progress = wrong();\n      }\n    };\n\n    const playQuestion = note => {\n      const audio = new Audio(note);\n      audio.play();\n    };\n\n    const buttons = octaves.c3.map(note => {\n      return (\n        <button\n          onClick={() => playAnswer(note.sound, note.name)}\n          className=\"btn blue sound waves-effect waves-light\"\n        >\n          {note.name}\n        </button>\n      );\n    });\n\n    return (\n      <div className=\"guessTheNote\">\n        <div className=\"question\">\n          <button\n            onClick={() => playQuestion(this.state.question.sound)}\n            className=\"btn teal sound waves-effect waves-light\"\n          >\n            ?\n          </button>\n          <p style={{ fontSize: \"1.5em\" }}>Click the \"?\" to hear again</p>\n          <p> progress: {progress}</p>\n        </div>\n        <div className=\"answers\">{buttons}</div>\n        <p style={{ fontSize: \"1.5em\" }}>\n          Click the note that fits to the sound you just heard.\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default GuessTheNote;\n"]},"metadata":{},"sourceType":"module"}
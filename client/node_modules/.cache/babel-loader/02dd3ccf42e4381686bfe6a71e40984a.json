{"ast":null,"code":"'use strict';\n/*!\n * ignore\n */\n\nvar _classCallCheck = require(\"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/Users/erikvardanyan/Desktop/Work/Web/Fullstack/Musicly/server/client/node_modules/@babel/runtime/helpers/inherits\");\n\nvar MongooseMap = require('../types/map');\n\nvar SchemaType = require('../schematype');\n/*!\n * ignore\n */\n\n\nvar SchemaMap =\n/*#__PURE__*/\nfunction (_SchemaType) {\n  _inherits(SchemaMap, _SchemaType);\n\n  function SchemaMap(key, options) {\n    var _this;\n\n    _classCallCheck(this, SchemaMap);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SchemaMap).call(this, key, options, 'Map'));\n    _this.$isSchemaMap = true;\n    return _this;\n  }\n\n  _createClass(SchemaMap, [{\n    key: \"cast\",\n    value: function cast(val, doc, init) {\n      if (val instanceof MongooseMap) {\n        return val;\n      }\n\n      if (init) {\n        var map = new MongooseMap({}, this.path, doc, this.$__schemaType);\n\n        var _arr = Object.keys(val);\n\n        for (var _i = 0; _i < _arr.length; _i++) {\n          var key = _arr[_i];\n          map.$__set(key, this.$__schemaType.cast(val[key], doc, true));\n        }\n\n        return map;\n      }\n\n      return new MongooseMap(val, this.path, doc, this.$__schemaType);\n    }\n  }]);\n\n  return SchemaMap;\n}(SchemaType);\n\nmodule.exports = SchemaMap;","map":null,"metadata":{},"sourceType":"script"}